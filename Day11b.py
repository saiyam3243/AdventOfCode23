import re

split_lines = """..#............................#....................................................................................#..........#........#...
..........#.........................................#.......................................................................................
...................#..........................................................................#.............................................
.....................................................................................#.............................................#........
.......#.......#.............#..........#......#...................#.....#..................................................................
................................................................................#..................#..............#.........................
....................................#.......................................................................................................
...........#...................................................................................#......................................#.....
.......................................................................................................................#.........#..........
.....................#.................................................#...................#.................#..............#...............
....#...........................................#...............#...........................................................................
.........................#.......................................................................#..........................................
...................................#......................#.......................................................#.......................#.
..................#...........................................................#.......................#.................#...........#.......
..........#........................................................#..........................................#.............................
.............................................#.........#.....#..............................................................................
.......................#.....................................................................#..............................#..........#....
.............................#.......................................................#...........................#..........................
..#...........#.......................#.....................................#...............................................................
...........................................................#.............................................#..................................
......#..........................................................#......#........................................................#..........
................................#.........#...........#....................................#........#...................#..................#
...........................#..................................................#..............................#..............................
..............................................#.................................................#...........................................
.#.................................................................................................................#........................
.......................................................................#....................................................................
...............#.............................................................................................................#..........#...
.................................#.............................#............................................#...............................
.....#.................#...................#................................................................................................
....................................................#...................................................#............#......................
...........#.....#...................................................................#............................................#.........
..............................................#...........................................................................#.................
...#.........................#.....................................................................#........................................
.........................................................#...................................#........................................#.....
.........#....................................................#........#................#.....................#.............................
........................#..........................................................................................#........................
..............#...................................#............................#.............................................#.....#........
.................................#................................................................#.........................................
..................#........................#...............#................................#.............#.............................#...
..........#........................................................#............................................................#...........
..#.....................................................................................#.............................#.....................
..........................#..........#..................................#......................................#...........#................
................................................................#...........................................................................
................#................................#..........................#...............................................................
...........................................#..................................................#.....#.......#...............................
..........#............................................#.....................................................................#..............
.......................#....................................#...........................................................#..............#....
.....#.........................#........#..............................................#.................#........................#.........
.................#....................................................#............................................#........................
....................................#...............#................................................#......................................
.........................#........................................#................#.......#...................#............................
....................................................................................................................................#.......
...........#...................................#...........................#......................#.........................#..............#
..................................#......#..................................................................................................
......#....................#.........................#..................................................#...................................
......................#...................................#......#.....#.................................................#..................
..............#..............................................................................#.................#.....................#......
............................................................................................................................................
#.............................#................#....................................................................#....................#..
............................................................................................................................................
........#...........................................#.......................................................................................
...................................................................#..........#..................#..........................................
.....................#............#........#.............................................#............#................#....................
................#............................................................................................................#..............
...............................................................................................................#...................#........
........................#......#..........................#.....#......#................................................................#...
................................................#..........................................#.............#..................................
......................................#..............................................................................#......................
..#.................................................................#.........#.............................................................
..........#.....#...............................................................................................#...........#...............
.................................#....................................................................#..............................#......
.....................................................#........................................#........................#....................
..........................................#..................#............#.................................................................
......................#...............................................................#..................#.........#............#...........
......#........................................................................#............................................................
...................................#...................................#..................................................#.................
...................................................#.........................................#.................#............................
...........................#...................................#.....................................................................#......
........................................#...................................................................................................
................#......................................#........................#.........#.....#...........................................
...........#......................#.....................................................................#...................................
....#....................#...................#...................#................................................#...........#...........#.
............................................................................................................................................
............................................................................................................................................
.....................................#....................................#.................................................................
.......................#..................#........#............................#................#.............#............................
...............#...............................................#......................#..............................................#......
............................................................................................................................................
.................................#...........#.....................#....................................................#...................
............................................................................................................................................
..#........#..........#...............#..................................................................#..........#......................#
............................................................#............................#..................................................
.................................................................#..........#.................................#.................#...........
.............................#......................#.......................................................................................
....#..................................................................................................................................#....
...................#...............#..................................................#....................#................................
.........................................................#......................................#...................#..............#........
.....................................................................#...................................................#..................
........................#...................................................................#..................#............................
...#.....#...............................#....................#.............................................................................
................#...............#...........................................................................................................
.....................#........................................................#.....................................................#.......
..............................................#.......#................#...............................................#...................#
.........................................................................................#...............#...................#..............
.#...........................#.......#......................................................................................................
.............................................................................................................#........................#.....
.................................#..........................................................................................................
...........#........................................................................................#.............................#.........
................#...............................................#............................#...................#..........................
...#............................................................................#...........................................................
....................................................#.......#.......#......#...........................................................#....
.........................#..................................................................................................................
....................#...............#.........................................................................................#.............
.........................................................#....................#......................#......................................
....#........................#...............#........................#...............#.....................................................
..........#......#....................................................................................................................#.....
..............................................................................................#...................#.........................
.......................................................#...................................................#.................#..............
..........................#....................#............................................................................................
........................................#......................#.........#...............#.......#......................#.........#.....#...
...............................#....................................#.......................................................................
........#...........#.............................#.........................................................................................
...#...........#...................................................................#..................#............#........................
...........................#..............................#...................................#.............................................
...................................#.............................#..........................................#...............................
..............................................#........................#........#..........................................#................
.......................................................................................#.............................#..............#.......
.........................................#..................................................................................................
.....#............#......................................#.....#............................#...............................................
............................#...............................................................................................................
.......................#.........#........................................#..............................#...............................#..
..#...........#.......................................#.........................#...........................................................
.......................................#.........................#..........................................................................
............................................................#...............................................................................
.......#......................#........................................#................................................#..............#....
..............................................................................................................#.............................
...............................................#.....................................................#......................................
......................#..................................................................#......#.................................#.......#.
..#.......#................#......#..................................#.......#.....................................#........................
................#...............................................#..................#....................#..................#................"""

split_lines = """...#......
.......#..
#.........
..........
......#...
.#........
.........#
..........
.......#..
#...#....."""

split_lines = split_lines.split("\n")
answer = []


def convert_line():
    global_list = []
    set_index = []
    count = "1"
    for line in range(len(split_lines)):
        x = 0
        local_list = []
        while x is not None:
            temp = split_lines[line]
            x = re.search("#", temp)
            
            if x is None:
                break
            local_list.append(x.start())
            #set_index.add(x.start())
            split_lines[line] = re.sub("#", count, temp, 1)
        global_list.append(local_list)
        set_index += local_list
    
    set_index.sort()
    ll = [i for i in range(len(split_lines[0]))]
    #print(ll)
    set_index = set(set_index)
    #print((set_index))
    set_all = set(ll)
    final = list(set_all.difference(set_index))
    final.sort()
    print(final)
    return final,global_list

def sum_col(i, j, final):
    total_col = 0
    r = range(*sorted((i,j)))
    for k in final:
        if k in r:
            total_col += 1
    return total_col

def sum_galaxy(row_space, col_space):
    row_space -= 1
    col_space -= 1
    final,global_list = convert_line()
    while global_list != []:
        while len(global_list) > 0 and len(global_list[0]) > 0:
            counter = 0
            row = 0
            col = 0
            extra_row = 0
            temp = global_list[0].pop(0)
            if global_list[0] == []:
                global_list.pop(0)
                extra_row += 1

            for j in global_list:

                for k in j:
                    col = sum_col(temp, k, final)
                    answer.append(abs(temp - k) + counter + row*(row_space) + col*(col_space) + extra_row)
                if j == []:
                    row += 1
                #answer.append(abs(temp - k + counter) for k in j)
                counter += 1

        if len(global_list) > 0 and global_list[0] == []:
            global_list.pop(0)
            
    return answer

a = sum_galaxy(100,100)
print(sum(a))
